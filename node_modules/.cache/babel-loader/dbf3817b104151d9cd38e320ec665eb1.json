{"ast":null,"code":"import _slicedToArray from\"/Users/andresgonzalez/Documents/mixtis/Parcial2web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Card,Col,Container,Row,Image,Table}from\"react-bootstrap\";import{FormattedMessage}from\"react-intl\";import Cama from\"../assets/Cama.png\";import Cocina from\"../assets/Cocina.png\";import Comedor from\"../assets/Comedor.png\";import Sala from\"../assets/Sala.png\";import Tabla from\"./Tabla\";import Charts from\"./Charts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Room(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedRoom=_useState4[0],setSelectedRoom=_useState4[1];var url=\"https://gist.githubusercontent.com/josejbocanegra/92c90d5f2171739bd4a76d639f1271ea/raw/9effd124c825f7c2a7087d4a50fa4a91c5d34558/rooms.json\";useEffect(function(){var currentRooms=[];if(!navigator.onLine){if(localStorage.getItem(\"rooms\")===null){setRooms([]);}else{var r=JSON.parse(localStorage.getItem(\"rooms\"));r.map(function(e){if(e.homeId===props.selectedPlace.id){currentRooms.push(e);}});setRooms(currentRooms);}}else{fetch(url).then(function(resp){return resp.json();}).then(function(jsonData){console.log(\"JSON Data\",jsonData);setRooms(jsonData.filter(function(element){return element.homeId===props.selectedPlace.id;}));localStorage.setItem(\"rooms\",JSON.stringify(jsonData));}).catch(function(error){return console.error(error);});}},[props,props.selectedPlace]);var isSelectedRoomNull=selectedRoom===null;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"roomTitle\",style:{textAlign:\"left\",marginLeft:\"2rem\"},children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"rooms\"})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:\"7\",children:/*#__PURE__*/_jsx(Row,{children:rooms.map(function(e,i){return/*#__PURE__*/_jsx(Col,{md:\"4\",children:/*#__PURE__*/_jsxs(Card,{onClickCapture:function onClickCapture(){setSelectedRoom(e);console.log(\"selectedRoom \",selectedRoom);},children:[/*#__PURE__*/_jsx(Card.Title,{className:\"roomTitle\",children:RommName(e.name)}),/*#__PURE__*/_jsx(Image,{src:Imagen(e.name)})]})},\"room \".concat(i));})})}),!isSelectedRoomNull&&/*#__PURE__*/_jsx(Tabla,{selectedRoom:selectedRoom}),/*#__PURE__*/_jsx(Charts,{rooms:rooms})]})})]});}function Imagen(roomName){if(roomName===\"Kitchen\")return Cocina;else if(roomName===\"Dinner room\")return Comedor;else if(roomName===\"Living room\")return Sala;else return Cama;}function RommName(roomName){if(roomName===\"Kitchen\")return/*#__PURE__*/_jsx(FormattedMessage,{id:\"kitchen\"});else if(roomName===\"Dinner room\")return/*#__PURE__*/_jsx(FormattedMessage,{id:\"dinnerRoom\"});else if(roomName===\"Living room\")return/*#__PURE__*/_jsx(FormattedMessage,{id:\"livingRoom\"});else return/*#__PURE__*/_jsx(FormattedMessage,{id:\"bedroom\"});}export default Room;","map":{"version":3,"sources":["/Users/andresgonzalez/Documents/mixtis/Parcial2web/src/Components/Room.js"],"names":["React","useEffect","useState","Card","Col","Container","Row","Image","Table","FormattedMessage","Cama","Cocina","Comedor","Sala","Tabla","Charts","Room","props","rooms","setRooms","selectedRoom","setSelectedRoom","url","currentRooms","navigator","onLine","localStorage","getItem","r","JSON","parse","map","e","homeId","selectedPlace","id","push","fetch","then","resp","json","jsonData","console","log","filter","element","setItem","stringify","catch","error","isSelectedRoomNull","textAlign","marginLeft","i","RommName","name","Imagen","roomName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Card, Col, Container, Row, Image, Table } from \"react-bootstrap\";\nimport { FormattedMessage } from \"react-intl\";\nimport Cama from \"../assets/Cama.png\";\nimport Cocina from \"../assets/Cocina.png\";\nimport Comedor from \"../assets/Comedor.png\";\nimport Sala from \"../assets/Sala.png\";\nimport Tabla from \"./Tabla\"\nimport Charts from \"./Charts\"\n\n\nfunction Room(props) {\n    const [rooms, setRooms] = useState([]);\n    const [selectedRoom, setSelectedRoom] = useState(null);\n\n    const url =\n      \"https://gist.githubusercontent.com/josejbocanegra/92c90d5f2171739bd4a76d639f1271ea/raw/9effd124c825f7c2a7087d4a50fa4a91c5d34558/rooms.json\";\n  \n    useEffect(() => {\n\n      let currentRooms = [];\n  \n      if (!navigator.onLine) {\n        if (localStorage.getItem(\"rooms\") === null) {\n          setRooms([]);\n        } else {\n          let r = JSON.parse(localStorage.getItem(\"rooms\"));\n          r.map((e) => {\n            if (e.homeId === props.selectedPlace.id) {\n              currentRooms.push(e);\n            }\n          });\n          setRooms(currentRooms);\n        }\n      } else {\n        fetch(url)\n        .then((resp) => resp.json())\n        .then((jsonData) => {\n            console.log(\"JSON Data\", jsonData);\n            setRooms(jsonData.filter((element) => element.homeId === props.selectedPlace.id));\n            localStorage.setItem(\"rooms\", JSON.stringify(jsonData));\n        })\n        .catch((error) => console.error(error));\n    }}, [props, props.selectedPlace]);\n\n  \n  \n    const isSelectedRoomNull =selectedRoom === null;\n    return (\n      <div>\n        <h2\n          className=\"roomTitle\"\n          style={{ textAlign: \"left\", marginLeft: \"2rem\" }}\n        >\n          <FormattedMessage id=\"rooms\" />\n        </h2>\n        <Container>\n          <Row>\n            <Col md=\"7\">\n              <Row>\n                {rooms.map((e, i) => (\n                  <Col md=\"4\" key={`room ${i}`}>\n                    <Card\n                      onClickCapture={() => {\n                        setSelectedRoom(e);\n                        console.log(\"selectedRoom \", selectedRoom);\n                      }}\n                    >\n                      <Card.Title className=\"roomTitle\">\n                        {RommName(e.name)}\n                      </Card.Title>\n                      <Image src={Imagen(e.name)} />\n                    </Card>\n                  </Col>\n                ))}\n              </Row>\n            </Col>\n            {!isSelectedRoomNull&& <Tabla  selectedRoom={selectedRoom}/>}\n            <Charts  rooms={rooms}/>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\nfunction  Imagen(roomName){\n    \n    if (roomName ===\"Kitchen\")\n      return Cocina;    \n    else if (roomName ===\"Dinner room\")\n      return Comedor;\n    else if (roomName ===\"Living room\")\n      return Sala;\n    else\n      return Cama;\n}\n\nfunction RommName(roomName)\n{\n    if (roomName ===\"Kitchen\")\n        return <FormattedMessage id=\"kitchen\" />; \n    else if (roomName ===\"Dinner room\")\n        return <FormattedMessage id=\"dinnerRoom\" />; \n    else if (roomName ===\"Living room\")\n      return <FormattedMessage id=\"livingRoom\" />; \n    else\n      return <FormattedMessage id=\"bedroom\" />; \n}\n  \nexport default Room;\n\n"]},"metadata":{},"sourceType":"module"}